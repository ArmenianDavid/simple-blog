(this["webpackJsonpsimple-blog"]=this["webpackJsonpsimple-blog"]||[]).push([[0],{80:function(e,t,a){e.exports=a(99)},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(8),r=a.n(s),l=(a(85),a(17)),i=a(47),c=a(14),u=a(10),p=a(19),m=a(20),d=a(21),g=(a(86),a(28)),h=(a(87),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(p.a)(this,Object(m.a)(t).call(this))).state={},e}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"registartion"},o.a.createElement("div",{className:"registartion-box"},o.a.createElement("span",{className:"log-in-btn",onClick:function(){return e.props.history.push("/simple-blog/verify")}},"Log in"," "),"and tell us your story!!!"))}}]),t}(o.a.Component)),b=Object(g.g)(h),f=(a(93),a(16)),v=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).clearLocalStotage=function(){localStorage.clear(),window.location.reload()},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.isLoggedIn),o.a.createElement("div",{className:"navigation-container"},o.a.createElement("div",{className:"navigation"},o.a.createElement("div",{className:"left-nav"},o.a.createElement("div",null,o.a.createElement(f.b,{to:"/simple-blog"},o.a.createElement("span",{className:"icon"},o.a.createElement("i",{className:"fas fa-blog"}),"Blog"))),o.a.createElement(f.b,{to:"/simple-blog/create"},o.a.createElement("div",{className:"create-post-btn"},"create post"))),o.a.createElement("div",{onClick:this.clearLocalStotage}," Clear Memory "),this.props.isLoggedIn?o.a.createElement("div",{className:"right-nav",onClick:function(){return e.props.history.push("/simple-blog/log-out-modal")}},o.a.createElement("div",{type:"button"},"Log out")):o.a.createElement("div",{className:"right-nav",onClick:function(){return e.props.history.push("/simple-blog/verify")}},o.a.createElement("div",{type:"button"},"Log in"))))}}]),t}(o.a.Component),E=Object(g.g)(v),S=(a(94),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).showValidationError=function(e,t){a.setState((function(a){return{errors:[].concat(Object(l.a)(a.errors),[{element:e,message:t}])}}))},a.clearValidationError=function(e){a.setState((function(t){var a=[],n=!0,o=!1,s=void 0;try{for(var r,l=t.errors[Symbol.iterator]();!(n=(r=l.next()).done);n=!0){var i=r.value;e!==i.element&&a.push(i)}}catch(i){o=!0,s=i}finally{try{n||null==l.return||l.return()}finally{if(o)throw s}}return{errors:a}}))},a.handleChange=function(e){"username"===e.target.id?(a.setState({username:e.target.value}),a.clearValidationError("username")):"password"===e.target.id&&(a.setState({password:e.target.value}),a.clearValidationError("password"))},a.submitRegistration=function(){var e=a.state,t=e.username,n=e.password;""===t&&a.showValidationError("username","Username can't be empty"),""===n&&a.showValidationError("password","Password can't be empty"),t&&n&&a.setState({isLoggedIn:!0},(function(){return a.giveToApp()}))},a.giveToApp=function(){a.props.changeRegistrationStatus(a.state.isLoggedIn),a.props.history.push("/simple-blog/create"),a.props.handleUserInfo(a.state.username,a.state.password)},a.state={username:"",password:"",errors:[],isLoggedIn:!1},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=null,t=null,a=!0,n=!1,s=void 0;try{for(var r,l=this.state.errors[Symbol.iterator]();!(a=(r=l.next()).done);a=!0){var i=r.value;"username"===i.element&&(e=i.message),"password"===i.element&&(t=i.message)}}catch(i){n=!0,s=i}finally{try{a||null==l.return||l.return()}finally{if(n)throw s}}return o.a.createElement("div",{className:"login-container"},o.a.createElement("div",{className:"login-title-container"},o.a.createElement("h2",{className:"login-title"},"Log in")),o.a.createElement("div",{className:"login"},o.a.createElement("input",{type:"text",placeholder:"Name *",id:"username",className:"login-input",onChange:this.handleChange}),o.a.createElement("sub",{className:"error"}," ",e||""," "),o.a.createElement("input",{type:"password",placeholder:"Password *",id:"password",className:"login-input",onChange:this.handleChange}),o.a.createElement("sub",{className:"error"}," ",t||""," "),o.a.createElement("button",{className:"login-btn",onClick:this.submitRegistration},"log in")))}}]),t}(o.a.Component)),y=Object(g.g)(S),O=(a(95),a(133)),I=a(126),C=a(4),j=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).handleGreetingStatusChange=function(){a.setState({isShowingGreeting:!1})},a.handleTitleValueChange=function(e){a.setState({titleValue:e.target.value})},a.handlePostValueChange=function(e){a.setState({postValue:e.target.value})},a.callback=function(){a.props.history.push("/simple-blog/"),a.props.handleAddPost({titleValue:a.state.titleValue,postValue:a.state.postValue,username:a.props.users[a.props.users.length-1].username,time:a.time()})},a.givePostToApp=function(){a.setState((function(e){return{postId:e.postId+1}}),(function(){return a.callback()}))},a.time=function(){return(new Date).toLocaleTimeString()},a.state={isShowingGreeting:!0,titleValue:"",postValue:"",postId:0},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.classes;return console.log(this.state.postId),o.a.createElement("div",{className:"input-global-container"},o.a.createElement("form",{className:e.root,noValidate:!0,autoComplete:"off"},o.a.createElement(O.a,{className:e.title,id:"standard-basic",label:"Write a title",onChange:this.handleTitleValueChange}),o.a.createElement(O.a,{id:"outlined-basic",label:"Write a post",variant:"outlined",onChange:this.handlePostValueChange}),o.a.createElement(I.a,{variant:"contained",color:"primary",onClick:this.givePostToApp},o.a.createElement("span",null,o.a.createElement("i",{className:"fas fa-check fa-2x"})))))}}]),t}(o.a.Component),w=Object(C.a)((function(e){return{root:{width:"80%","& > *":{margin:e.spacing(1),width:"100%"}}}}))(Object(g.g)(j)),N=a(127),V=a(128),k=a(129),P=a(130),L=a(131),x=a(136),T=a(132),A=a(45),R=(a(96),Object(N.a)((function(e){return{root:{width:"80%",margin:"auto",marginTop:"5px"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",margin:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:"lightskyblue"}}})));var D=Object(g.g)((function(e){var t=R();return console.log("POSTS ---",e.posts),e.posts.map((function(a,n){return o.a.createElement(V.a,{className:t.root,key:n},o.a.createElement("div",{className:"card-container"},o.a.createElement(k.a,{avatar:o.a.createElement(x.a,{"aria-label":"recipe",className:t.avatar},a.username),title:"".concat(a.titleValue," writed by ").concat(a.username," "),subheader:a.edited?"".concat(a.time," edited at ").concat(a.edited):a.time}),o.a.createElement(P.a,null,o.a.createElement(A.a,{variant:"body2",color:"textSecondary",component:"p"},a.postValue)),o.a.createElement(L.a,{disableSpacing:!0},o.a.createElement(T.a,{"aria-label":"share",color:"primary",onClick:function(){return e.history.push("/simple-blog/post/edit:".concat(a.postId))}},"Edit"))))}))})),J=a(59),U=a.n(J),G=a(60),F=a.n(G),M=a(61),W=a.n(M),B=a(44),H=a(43),q=(a(97),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).editPostValue=function(){a.setState({isPostValueChanging:!0})},a.onPostValueChange=function(e){a.setState({newPostValue:e.target.value})},a.handleDoneIconClick=function(){var e=a.state,t=e.post,n=e.newPostValue;a.props.history.push("/simple-blog/"),a.props.handleNewPostValue(t.postId,n)},a.handleDeleteIconClick=function(){var e=a.state.post;a.props.history.push("/simple-blog/"),a.props.handlePostsFilter(e.postId)},a.state={post:{},isPostValueChanging:!1,newPostValue:""},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.posts.find((function(t){return":".concat(t.postId)===e.props.match.params.id}));this.setState({post:t})}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.post,n=t.isPostValueChanging,s=t.newPostValue;return console.log("POSTS --",this.props.posts),console.log("POST --",a),console.log("CHANGED VALUE --",s),o.a.createElement(V.a,{className:e.root},o.a.createElement("div",{className:e.mainCard},o.a.createElement(k.a,{avatar:o.a.createElement(x.a,{"aria-label":"recipe",style:{backgroundColor:B.a[300]}},a.username),title:"".concat(a.titleValue," writed by ").concat(a.username," "),subheader:a.time}),o.a.createElement(P.a,null,n?o.a.createElement(O.a,{id:"outlined-basic",label:"Write a post",variant:"outlined",defaultValue:a.postValue,onChange:this.onPostValueChange}):o.a.createElement(A.a,{variant:"body2",color:"textSecondary",component:"p"},a.postValue)),o.a.createElement("div",{className:"edit-btn-container"},o.a.createElement(L.a,{disableSpacing:!0},o.a.createElement(T.a,{"aria-label":"share",onClick:this.editPostValue},o.a.createElement(U.a,{style:{color:B.a[500]}}))),o.a.createElement(L.a,{disableSpacing:!0},o.a.createElement(T.a,{"aria-label":"share",onClick:this.handleDeleteIconClick},o.a.createElement(F.a,{style:{color:H.a[500]}}))),o.a.createElement(L.a,{disableSpacing:!0},o.a.createElement(T.a,{"aria-label":"share",onClick:this.handleDoneIconClick},o.a.createElement(W.a,{color:"primary"}))))))}}]),t}(o.a.Component)),z=Object(C.a)((function(e){return{root:{width:"80%",margin:"auto","& > *":{margin:e.spacing(1),width:"100%"}},mainCard:{width:"80%",margin:"auto"}}}))(Object(g.g)(q)),K=a(35),Q=a(134);function X(){return Math.round(20*Math.random())-10}function Y(){var e=50+X(),t=50+X();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}var Z=Object(N.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var $=Object(g.g)((function(e){var t=Z(),a=o.a.useState(Y),n=Object(K.a)(a,1)[0],s=o.a.useState(!0),r=Object(K.a)(s,2),l=r[0],i=r[1],c=function(){i(!1)};return o.a.createElement("div",null,o.a.createElement(Q.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:l,onClose:c},o.a.createElement("div",{style:n,className:t.paper},o.a.createElement("h2",{id:"simple-modal-title"},"Log Out"),o.a.createElement("p",{id:"simple-modal-description"},"Are you sure ?"),o.a.createElement(I.a,{variant:"contained",color:"primary",onClick:function(){e.changeRegistrationStatus(!1),c(),e.history.push("/simple-blog/verify")}},"Log out"))))})),_=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(p.a)(this,Object(m.a)(t).call(this))).time=function(){return(new Date).toLocaleTimeString()},e.handleAddPost=function(t){var a=[Object(i.a)({},t,{postId:e.state.postId+1})].concat(Object(l.a)(e.state.posts));e.setState({posts:a,postId:e.state.postId+1}),localStorage.setItem("postId",e.state.postId),localStorage.setItem("posts",JSON.stringify(a))},e.changeRegistrationStatus=function(t){e.setState({isLoggedIn:t}),localStorage.setItem("isLoggedIn",e.state.isLoggedIn)},e.handleUserInfo=function(t,a){var n=[].concat(Object(l.a)(e.state.users),[{username:t,password:a}]);e.setState({users:n}),localStorage.setItem("users",JSON.stringify(n))},e.handleNewPostValue=function(t,a){var n=e.state.posts.map((function(n){return n.postId===t?(console.log("yes"),Object(i.a)({},n,{postValue:a,edited:e.time()})):n}));localStorage.setItem("posts",JSON.stringify(n)),e.setState({posts:n})},e.handlePostsFilter=function(t){var a=e.state.posts.filter((function(e){return e.postId!==t}));e.setState({posts:a}),localStorage.setItem("posts",JSON.stringify(a))},e.state={isLoggedIn:localStorage.getItem("isLoggedIn")||!1,posts:JSON.parse(localStorage.getItem("posts")||"[]"),users:JSON.parse(localStorage.getItem("users")||"[]"),postId:localStorage.getItem("postId")||0},e}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.isLoggedIn,a=e.posts,n=e.users;return console.log("POSTS---",a),console.log("LOCALSTORAGE---",localStorage),o.a.createElement("div",{className:"app"},o.a.createElement(E,{isLoggedIn:this.state.isLoggedIn,changeRegistrationStatus:this.changeRegistrationStatus}),o.a.createElement(g.d,null,o.a.createElement(g.b,{path:"/simple-blog/log-out-modal",exact:!0},o.a.createElement($,{changeRegistrationStatus:this.changeRegistrationStatus})),o.a.createElement(g.b,{path:"/simple-blog/verify"},o.a.createElement(y,{changeRegistrationStatus:this.changeRegistrationStatus,handleUserInfo:this.handleUserInfo})),o.a.createElement(g.b,{path:"/simple-blog/create"},t?o.a.createElement(w,{handleAddPost:this.handleAddPost,users:n}):o.a.createElement(g.a,{to:"/simple-blog/verify"})),o.a.createElement(g.b,{path:"/simple-blog",exact:!0},void 0!==a[0]?o.a.createElement(D,{posts:a}):o.a.createElement(b,null)),o.a.createElement(g.b,{path:"/simple-blog/post/edit:id",exact:!0},o.a.createElement(z,{posts:a,handleNewPostValue:this.handleNewPostValue,handlePostsFilter:this.handlePostsFilter}))))}}]),t}(o.a.Component);r.a.render(o.a.createElement(f.a,null,o.a.createElement(_,null)),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.6f5c6f19.chunk.js.map